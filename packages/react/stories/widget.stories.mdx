import {
  Meta,
  Preview,
  Story,
  Props,
  Source,
  SourceState,
} from "@storybook/addon-docs/blocks";
import { number, select } from "@storybook/addon-knobs";
import Logo from "./logo";
import HeadwayWidget, { HeadwayWidgetTrigger } from "../src/index";

<Meta title="HeadwayWidget" component={HeadwayWidget} />

# HeadwayWidget

## Basic usage

The simplest possible usage, just set your _account_ id.

<Preview>
  <Story name="Basic">
    <HeadwayWidget account="J1LKG7">
      <Logo />
    </HeadwayWidget>
  </Story>
</Preview>

## Badge position

You can change badge position to one of 9 possible values. Check all of them in the Api reference at the end of this page.

<Preview>
  <Story name="Badge Position">
    <HeadwayWidget account="J1LKG7" id="2" badgePosition="center-left">
      <Logo />
    </HeadwayWidget>
  </Story>
</Preview>

## Widget position

You can change widget position to one of 6 possible values. Check all of them in the Api reference at the end of this page.

<Preview>
  <Story name="Widget Position">
    <HeadwayWidget account="J1LKG7" id="3" position="center-left">
      <Logo />
    </HeadwayWidget>
  </Story>
</Preview>

## External trigger

Widget can be triggered by any other element on the page. To achieve that use HeadwayWidgetTrigger and set its `forId`
prop to corresponding widget `id`.

<Preview>
  <Story name="External trigger">
    <div style={{ display: "flex" }}>
      <HeadwayWidget account="J1LKG7" id="4">
        <Logo />
      </HeadwayWidget>
      <HeadwayWidgetTrigger forId="4">
        <button>Trigger</button>
      </HeadwayWidgetTrigger>
    </div>
  </Story>
</Preview>

## Callbacks

You can add some handlers of Widget actions. Open developer tools, click around widget below and observe
logged names.

<Preview>
  <Story name="Handlers">
    <div style={{ display: "flex" }}>
      <HeadwayWidget
        account="J1LKG7"
        id="5"
        onWidgetReady={() => console.log("Widget is ready")}
        onShowWidget={() => console.log("Widget shown")}
        onReadMore={() => console.log("Read more clicked")}
        onShowDetails={() => console.log("Show more clicked")}
        onHideWidget={() => console.log("Widget hidden")}
      >
        <Logo />
      </HeadwayWidget>
    </div>
  </Story>
</Preview>

## Translations

You can translate widget labels.

<Preview>
  <Story name="Translations">
    <div style={{ display: "flex" }}>
      <HeadwayWidget
        account="J1LKG7"
        id="6"
        translations={{
          title: "Registro de cambios",
          readMore: "Lee mas",
          labels: {
            new: "nuevo",
            update: "actualizar",
            improvement: "mejora",
          },
          footer: "Lee mas ðŸ‘‰",
        }}
      >
        <Logo />
      </HeadwayWidget>
    </div>
  </Story>
</Preview>

## Api reference

<Props of={HeadwayWidget} />
